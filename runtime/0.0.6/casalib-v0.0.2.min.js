(()=>{function L(e){if(typeof e._casagui_id_=="undefined"){let t=null;if(typeof window=="undefined"){if(typeof crypto!="undefined"){let n=crypto.randomBytes(8);t=new Uint32Array(n.buffer.slice(-4))}}else t=new Uint32Array(1),window.crypto.getRandomValues(t);let i=new Date,r=Math.floor(i.getTime()/1e3);e._casagui_id_=`${t?t[0]:r}-${r}`}return e._casagui_id_}var E=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function C(e,t,i,r){e.addEventListener?e.addEventListener(t,i,r):e.attachEvent&&e.attachEvent("on".concat(t),function(){i(window.event)})}function T(e,t){for(var i=t.slice(0,t.length-1),r=0;r<i.length;r++)i[r]=e[i[r].toLowerCase()];return i}function D(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");for(var t=e.split(","),i=t.lastIndexOf("");i>=0;)t[i-1]+=",",t.splice(i,1),i=t.lastIndexOf("");return t}function V(e,t){for(var i=e.length>=t.length?e:t,r=e.length>=t.length?t:e,n=!0,a=0;a<i.length;a++)r.indexOf(i[a])===-1&&(n=!1);return n}var j={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21EA":20,",":188,".":190,"/":191,"`":192,"-":E?173:189,"=":E?61:187,";":E?59:186,"'":222,"[":219,"]":221,"\\":220},v={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},P={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},l={16:!1,18:!1,17:!1,91:!1},s={};for(O=1;O<20;O++)j["f".concat(O)]=111+O;var O,f=[],S=!1,$="all",H=[],_=function(t){return j[t.toLowerCase()]||v[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function R(e){$=e||"all"}function b(){return $||"all"}function F(){return f.slice(0)}function G(e){var t=e.target||e.srcElement,i=t.tagName,r=!0;return(t.isContentEditable||(i==="INPUT"||i==="TEXTAREA"||i==="SELECT")&&!t.readOnly)&&(r=!1),r}function X(e){return typeof e=="string"&&(e=_(e)),f.indexOf(e)!==-1}function q(e,t){var i,r;e||(e=b());for(var n in s)if(Object.prototype.hasOwnProperty.call(s,n))for(i=s[n],r=0;r<i.length;)i[r].scope===e?i.splice(r,1):r++;b()===e&&R(t||"all")}function z(e){var t=e.keyCode||e.which||e.charCode,i=f.indexOf(t);if(i>=0&&f.splice(i,1),e.key&&e.key.toLowerCase()==="meta"&&f.splice(0,f.length),(t===93||t===224)&&(t=91),t in l){l[t]=!1;for(var r in v)v[r]===t&&(h[r]=!1)}}function J(e){if(typeof e>"u")Object.keys(s).forEach(function(o){return delete s[o]});else if(Array.isArray(e))e.forEach(function(o){o.key&&M(o)});else if(typeof e=="object")e.key&&M(e);else if(typeof e=="string"){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];var n=i[0],a=i[1];typeof n=="function"&&(a=n,n=""),M({key:e,scope:n,method:a,splitKey:"+"})}}var M=function(t){var i=t.key,r=t.scope,n=t.method,a=t.splitKey,o=a===void 0?"+":a,u=D(i);u.forEach(function(c){var p=c.split(o),g=p.length,y=p[g-1],d=y==="*"?"*":_(y);if(!!s[d]){r||(r=b());var K=g>1?T(v,p):[];s[d]=s[d].filter(function(m){var w=n?m.method===n:!0;return!(w&&m.scope===r&&V(m.mods,K))})}})};function U(e,t,i,r){if(t.element===r){var n;if(t.scope===i||t.scope==="all"){n=t.mods.length>0;for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(!l[a]&&t.mods.indexOf(+a)>-1||l[a]&&t.mods.indexOf(+a)===-1)&&(n=!1);(t.mods.length===0&&!l[16]&&!l[18]&&!l[17]&&!l[91]||n||t.shortcut==="*")&&t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}}function k(e,t){var i=s["*"],r=e.keyCode||e.which||e.charCode;if(!!h.filter.call(this,e)){if((r===93||r===224)&&(r=91),f.indexOf(r)===-1&&r!==229&&f.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(m){var w=P[m];e[m]&&f.indexOf(w)===-1?f.push(w):!e[m]&&f.indexOf(w)>-1?f.splice(f.indexOf(w),1):m==="metaKey"&&e[m]&&f.length===3&&(e.ctrlKey||e.shiftKey||e.altKey||(f=f.slice(f.indexOf(w))))}),r in l){l[r]=!0;for(var n in v)v[n]===r&&(h[n]=!0);if(!i)return}for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(l[a]=e[P[a]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(f.indexOf(17)===-1&&f.push(17),f.indexOf(18)===-1&&f.push(18),l[17]=!0,l[18]=!0);var o=b();if(i)for(var u=0;u<i.length;u++)i[u].scope===o&&(e.type==="keydown"&&i[u].keydown||e.type==="keyup"&&i[u].keyup)&&U(e,i[u],o,t);if(r in s){for(var c=0;c<s[r].length;c++)if((e.type==="keydown"&&s[r][c].keydown||e.type==="keyup"&&s[r][c].keyup)&&s[r][c].key){for(var p=s[r][c],g=p.splitKey,y=p.key.split(g),d=[],K=0;K<y.length;K++)d.push(_(y[K]));d.sort().join("")===f.sort().join("")&&U(e,p,o,t)}}}}function N(e){return H.indexOf(e)>-1}function h(e,t,i){f=[];var r=D(e),n=[],a="all",o=document,u=0,c=!1,p=!0,g="+",y=!1;for(i===void 0&&typeof t=="function"&&(i=t),Object.prototype.toString.call(t)==="[object Object]"&&(t.scope&&(a=t.scope),t.element&&(o=t.element),t.keyup&&(c=t.keyup),t.keydown!==void 0&&(p=t.keydown),t.capture!==void 0&&(y=t.capture),typeof t.splitKey=="string"&&(g=t.splitKey)),typeof t=="string"&&(a=t);u<r.length;u++)e=r[u].split(g),n=[],e.length>1&&(n=T(v,e)),e=e[e.length-1],e=e==="*"?"*":_(e),e in s||(s[e]=[]),s[e].push({keyup:c,keydown:p,scope:a,mods:n,shortcut:r[u],method:i,key:r[u],splitKey:g,element:o});typeof o<"u"&&!N(o)&&window&&(H.push(o),C(o,"keydown",function(d){k(d,o)},y),S||(S=!0,C(window,"focus",function(){f=[]},y)),C(o,"keyup",function(d){k(d,o),z(d)},y))}function Q(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(s).forEach(function(i){var r=s[i].find(function(n){return n.scope===t&&n.shortcut===e});r&&r.method&&r.method()})}var A={setScope:R,getScope:b,deleteScope:q,getPressedKeyCodes:F,isPressed:X,filter:G,trigger:Q,unbind:J,keyMap:j,modifier:v,modifierMap:P};for(x in A)Object.prototype.hasOwnProperty.call(A,x)&&(h[x]=A[x]);var x;typeof window<"u"&&(B=window.hotkeys,h.noConflict=function(e){return e&&window.hotkeys===h&&(window.hotkeys=B),h},window.hotkeys=h);var B;window.object_id=L;})();
